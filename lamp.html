<html lang="en">
<head>
<title>Smart Lamp</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {
  box-sizing: border-box;
}

body {
  font-family: Arial, Helvetica, sans-serif;
}

/* Header */
header {
  background-color: powderblue;
  padding: 10px;
  text-align: center;
  font-size: 33px;
  color: black;
  font-family: verdana;
}

/* Create two columns/boxes that floats next to each other */
nav {
  float: left;
  width: 40%;
  height: 400px; /* only for demonstration, should be removed */
  background: #fff478;
  padding: 	10px;
  text-align: center;
  font-size: 22px;
  cursor: pointer;
}

/* List */
nav ul {
  list-style-type: none;
  padding: 0;
}

article {
  float: left;
  padding: 10px;
  width: 60%;
  background-color: #ffc9e0;
  height: 400px; /* only for demonstration, should be removed */
  text-align: center;
}

/* Clear floats after the columns */
section:after {
  content: "";
  display: table;
  clear: both;
}

/* Footer */
footer {
  background-color: #d0fac5;
  padding: 30px;
  text-align: center;
  color: black;
  cursor: pointer;
}

/* Responsive layout - makes the two columns/boxes stack on top of each other instead of next to each other, on small screens */
@media (max-width: 600px) {
  nav, article {
    width: 100%;
    height: auto;
  }
}
</style>
</head>









<body>
<script>
var commands = {
  off:[9.2,4.4,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,0.5,0.6,1.6,0.6,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6],
  on:[9.2,4.4,0.6,0.4,0.7,0.5,0.6,0.5,0.6,0.5,0.7,0.5,0.6,0.5,0.6,0.5,0.7,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.7,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.7,1.5,0.6,39.8,9.2,2.2,0.6],
  white:[9.2,4.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.7,0.5,0.6,0.5,0.6,0.5,0.6,1.6],
  red:[9.2,4.4,0.6,0.5,0.6,0.5,0.6,0.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.7,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.7,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,0.5,0.6,0.5,0.7,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.7,0.4,0.7,1.6,0.6,1.6,0.6,0.5,0.6,1.6,0.6,1.6,0.7,1.6,0.7,1.5,0.6,39.8,9.2,2.2,0.6],  
  green:[9.2,4.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.7,1.6,0.6,1.6,0.6,1.6,0.7,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.7,1.6,0.6,1.6,0.6,1.6,0.7,0.4,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,39.8,9.2,2.2,0.6],
  blue:[9.2,4.4,0.6,0.5,0.6,0.5,0.7,0.5,0.6,0.5,0.7,0.4,0.7,0.5,0.6,0.5,0.7,0.4,0.6,1.6,0.7,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,0.5,0.6,1.6,0.6,0.5,0.6,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,0.5,0.6,1.6,0.6,0.5,0.6,1.6,0.6,1.7,0.5,1.6,0.6,1.6,0.6,39.8,9.2,2.2,0.6],
  dim:[9.2,4.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,0.5,0.6,0.5,0.6,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,39.8,9.2,2.2,0.6],
  bright:[9.2,4.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,0.5,0.6,0.5,0.6,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,39.8,9.2,2.2,0.6],
  flash:[9.2,4.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.7,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6],
  fade:[9.1,4.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,1.6,0.6,0.5,0.6,1.6,0.6,1.6,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.5,0.6,0.6,0.6,1.6,0.6,0.5,0.6,0.5,0.6,1.6,0.6,1.6,0.6,1.6,0.6]
};

function sendIR(array) {
  Puck.write('Puck.IR(['+array+']);\n')
}
  </script>
<script src="https://www.puck-js.com/puck.js"></script>

<header>
  <b><strong><h1 style="font-size:60px;">Smart Lamp</h1></b></strong>
</header>








<section>  
<nav>

<p id = "demo" onclick="sendIR(commands.on)">
<svg style= "width:240px;height:240px" viewBox="0 0 24 24">
    <path fill="#000000" d="M20,11H23V13H20V11M1,11H4V13H1V11M13,1V4H11V1H13M4.92,3.5L7.05,5.64L5.63,7.05L3.5,4.93L4.92,3.5M16.95,5.63L19.07,3.5L20.5,4.93L18.37,7.05L16.95,5.63M12,6A6,6 0 0,1 18,12C18,14.22 16.79,16.16 15,17.2V19A1,1 0 0,1 14,20H10A1,1 0 0,1 9,19V17.2C7.21,16.16 6,14.22 6,12A6,6 0 0,1 12,6M14,21V22A1,1 0 0,1 13,23H11A1,1 0 0,1 10,22V21H14M11,18H13V15.87C14.73,15.43 16,13.86 16,12A4,4 0 0,0 12,8A4,4 0 0,0 8,12C8,13.86 9.27,15.43 11,15.87V18Z" />
</svg> </p>
Turn it on!
    
  </nav>











  <article>

<table style="width:50%">
<tr>
    <th>FLASH</th>
    <th>FADE</th> 
    <th>SMOOTH</th> 
  </tr>  

<tr>

    <td><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="green" />
</svg></td>
    <td><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="yellow" />
</svg></td>
    <td>onclick="sendIR(commands.red)"<svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="red" />
</svg></td>
<th>BRIGHT</th>
  </tr>

  <tr>
    <td><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="blue" />
</svg></td>
    <td><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="white" />
</svg></td>
    <td><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="pink" />
</svg></td>
<th>DIM</th>
  </tr>

  <tr>
    <td><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="purple" />
</svg></td>
    <td><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="orange" />
</svg></td>
    <td><svg width="100" height="100">
  <circle cx="50" cy="50" r="40" stroke="white" stroke-width="4" fill="magenta" />
</svg></td>
 <th>STROBE</th>
  </tr>

</table>    

  </article>
</section>








<footer>
  
<body>
<script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
<script src="//www.puck-js.com/puck.js"></script>
  <p>This connects to an Espruino device via Web Bluetooth and
    then uses Annyang to interpret speech from
  your mic and issue commands. Try 'Turn on' and 'Turn off'.</p>

<p id="start">
<svg style="width:240px;height:240px" viewBox="0 0 24 24">
    <path fill="#000000" d="M17.3,11C17.3,14 14.76,16.1 12,16.1C9.24,16.1 6.7,14 6.7,11H5C5,14.41 7.72,17.23 11,17.72V21H13V17.72C16.28,17.23 19,14.41 19,11M10.8,4.9C10.8,4.24 11.34,3.7 12,3.7C12.66,3.7 13.2,4.24 13.2,4.9L13.19,11.1C13.19,11.76 12.66,12.3 12,12.3C11.34,12.3 10.8,11.76 10.8,11.1M12,14A3,3 0 0,0 15,11V5A3,3 0 0,0 12,2A3,3 0 0,0 9,5V11A3,3 0 0,0 12,14Z" />
</svg> </p>
<pre id="log"></pre>

<script>
  Puck.debug=3;
  
  function log(x) {
    console.log(x);
    document.getElementById("log").innerHTML += x+"\n";
  }
  
  annyang.addCommands({
    'turn on': function() { 
      log("Command: Turn on");
      Puck.write("sendIR(commands.on)"); 
    },
    'turn off': function() { 
      log("Command: Turn off");
      Puck.write("LED.reset();\n"); 
    }
  });
  
  annyang.addCallback('result', function(x) {
     console.log("Got: "+x);
  });
  document.getElementById("start").onclick = function() {
    // start a connection, write ctrl-c to clear the input line
    Puck.write("\x03",function() {
      log("Connected to Web Bluetooth!");
      // Start listening.
      annyang.start();
      log("Listening...");
     });
   };
</script>
</footer>



</body>
</html>
